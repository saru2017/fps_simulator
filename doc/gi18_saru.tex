%%
%% 研究報告用スイッチ
%% [techrep]
%%
%% 欧文表記無しのスイッチ(etitle,jkeyword,eabstract,ekeywordは任意)
%% [noauthor]
%%

\documentclass[submit,techrep]{ipsj}
%\documentclass[submit,techrep,noauthor]{ipsj}



\usepackage[dvips]{graphicx}
\usepackage{latexsym}

\def\Underline{\setbox0\hbox\bgroup\let\\\endUnderline}
\def\endUnderline{\vphantom{y}\egroup\smash{\underline{\box0}}\\}
\def\|{\verb|}

\setcounter{巻数}{53}%vol53=2012
\setcounter{号数}{10}
\setcounter{page}{1}


\begin{document}


\title{FPSにおけるネットワーク遅延と当たり判定場所が\\
ゲームの勝率に与える影響}

%\etitle{Latency and Collision Detection in Client Server Online FPS Games}

\affiliate{OU}{大阪大学大学院情報科学研究科\\
Graduate School of Information Science and Technology, Osaka University}


\author{岩崎 裕介}{Yusuke IWASAKI}{OU}[iwasaki.yusuke@ist.osaka-u.ac.jp]
\author{上熊須 匠}{Takumi UEKUMASU}{OU}[uekumasu.takumi@ist.osaka-u.ac.jp]
\author{川崎 慈英}{Jiei KAWASAKI}{OU}[j-kawasaki@ist.osaka-u.ac.jp]
\author{栗原 佳輝}{Yoshiki KURIHARA}{OU}[y-kurihara@ist.osaka-u.ac.jp]
\author{猿渡 俊介}{Shunsuke SARUWATARI}{OU}[saru@ist.osaka-u.ac.jp]

\begin{abstract}
\end{abstract}

%
%\begin{jkeyword}
%情報処理学会論文誌ジャーナル，\LaTeX，スタイルファイル，べからず集
%\end{jkeyword}
%
%\begin{eabstract}
%This document is a guide to prepare a draft for submitting to IPSJ
%Journal, and the final camera-ready manuscript of a paper to appear in
%IPSJ Journal, using {\LaTeX} and special style files.  Since this
%document itself is produced with the style files, it will help you to
%refer its source file which is distributed with the style files.
%\end{eabstract}
%
%\begin{ekeyword}
%IPSJ Journal, \LaTeX, style files, ``Dos and Dont's'' list
%\end{ekeyword}

\maketitle

\section{はじめに}

人間が物理空間におけるスポーツに感動を覚えるのは人間が成しえた脳と筋肉の
連動性能に魅了されるからである．
例えば陸上競技の100 m走は，100 mの空間をいかに速く通過するかという単純な
行為である．
その単純な行為の背景に，いかに筋肉を鍛えるのか，いかに脳から筋肉を上手に制
御するかの鍛錬がある．
その鍛錬の結果として人間の脳と筋肉が絶妙なバランスで連動して世界記録や日
本記録が生まれ，観客は同じ人間が到達した脳と肉体の連動性能に喜びを感じる．

人間が電脳空間であるe-Sportsに感動を覚えるのは人間が成しえた脳と電脳($\approx$
コンピュータ)の連動性能に魅了されるからである．
人間の脳で生成された電気パルスが電脳であるコンピュータの電気パルスと高速
に交換される．
人間の脳が発した電気パルスはネットワークを介して電脳空間に入力される．
電脳空間上の電気パルスはディスプレイを介して再び脳に入力される．
その電気パルスのやり取りの結果として電脳空間上で表現された行為から，人間
は脳と電脳の相互作用に畏怖を感じ，人間が本来備えた脳と人間が発明した脳の
連動性能に喜びを感じる．

e-Sportsの中でも最も人気があるのがFPS (First Person Shooter)である．
FPSとは，複数のユーザが主人公の本人視点でゲーム空間を移動しながら戦いを
行うシューティングゲームである．
TPS (Third Person Shooter)と異なり，FPSでは視野角が狭いが故により素早い
反応が求められる．
また，素早い反応が求められるが故に電脳空間上の遅延，すなわちネットワーク
の遅延が勝敗に影響すると言われている．

本稿では，FPSやTPSなどのシューティングゲームにおいて，遅延が勝敗に与える
影響について計算機シミュレーションと解析によって検証する．
FPSやTPSでは，遅延が存在すると自分の狙いと実際の敵の位置が一致しないこと
によって命中率が低下することが予想される．
また，当たり判定をサーバで行うか，自分で行うかによって命中率が異なること
も予想される．

\section{関連研究}
ネットワークの遅延は，様々なゲームにおいて悪影響を与える．
特にFPSなどの1人称のゲーム''The effect~unreal tournament 2003''は，MMO，スポーツなどの3人称のゲーム''the effect~NFL football"やRTSなどの自由視点のゲーム''the effect~WarcraftIII'', ''the effect real-time strategy games''と比較して，遅延によるパフォーマンス低下がより大きくなることが観測されている．''On Latency ~ in Online Games''

具体的には，latencyが増加するにあたってFPSにおいてキル率が線形的に減少するという結果が''An experimental~Quake 3''，MMOでは戦闘時間が増加するという結果が''The Effect of ~ on MMORPGs''，







\section{計算機シミュレーション}


\section{解析}

本稿では，1対１のシューティングを想定する．お互いの移動はランダムであり，撃つ側のプレイヤーは十分遠くから, 相手プレイヤーの中心を正確に狙って攻撃するものとする．また弾速は無限大とする．

\begin{figure}[tb]
\begin{center}
	\includegraphics[width=5.0cm]{fig/model.eps}
	\caption{提案モデル}
\end{center}
\end{figure}

想定するモデルを図1に示す. 黄色の円はプレイヤーの当たり判定を，青い円がプレイヤーが移動しうる範囲を表している．弾丸が黒い線を通過する際，プレイヤーが赤い帯の内部に居る場合命中し，そうでない場合命中しない．またプレイヤーが存在する確率を一様とすると，弾丸の命中率は青い円の中で赤い帯が占める割合と一致する．この割合は，当たり判定の半径を$d$, 移動速度を$v$,遅延時間を$t$,$\cos \theta = d/v t$とすると, 
\begin{equation}
\frac{\pi(vt)^2(\frac{2\pi-4\theta}{2\pi})+2dvt\sin\theta}{\pi (vt)^2}
\end{equation}
と表せる．
よって，弾丸を一発撃った時，その弾丸が命中する確率は,  
\begin{equation}
1-\frac{2\theta}{\pi}+\frac{\sin2\theta}{2\pi}
\end{equation}
となる．

$d=0.5$(m), $v=5$(m/s)の条件下で$t$を変化させた場合の命中率を図2,3に示す．図3は図2の一部を拡大したものである．
\begin{figure}[b]
\begin{minipage}{0.5\hsize}
\begin{center}
	\includegraphics[width=5.0cm]{fig/1000mstest.eps}
	\caption{結果}
\end{center}
\end{minipage}
\begin{minipage}{0.5\hsize}
\begin{center}
	\includegraphics[width=5.0cm]{fig/150mstest.eps}
	\caption{結果(拡大図)}
\end{center}
\end{minipage}
\end{figure}


\section{検証結果}

\subsection{}


\section{おわりに}




\end{document}
